# LSwitch - Layout Switcher –¥–ª—è Linux

–ê–Ω–∞–ª–æ–≥ Caramba Switcher –¥–ª—è Linux - –±—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø–æ –¥–≤–æ–π–Ω–æ–º—É Shift** - –Ω–∞–∂–º–∏—Ç–µ Shift –¥–≤–∞–∂–¥—ã –±—ã—Å—Ç—Ä–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –Ω–∞–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞ (evdev) - **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ: X11, Wayland, –¥–∞–∂–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ (tty)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ EN ‚ü∑ RU —Ä–∞—Å–∫–ª–∞–¥–æ–∫
- ‚úÖ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd –¥–µ–º–æ–Ω**
- ‚úÖ **GUI —Å –∏–∫–æ–Ω–∫–æ–π –≤ —Ç—Ä–µ–µ** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ–Ω—é
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- ‚úÖ **–†–µ–∂–∏–º –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è** - –≤–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ç—Ä–µ–π

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 1. GUI —Ä–µ–∂–∏–º —Å –∏–∫–æ–Ω–∫–æ–π –≤ —Ç—Ä–µ–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ç—Ä–µ–µ–º:
- –ò–∫–æ–Ω–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç—Ä–µ–µ
- –ú–µ–Ω—é –ø–æ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–µ –º—ã—à–∏
- –ß–µ–∫–±–æ–∫—Å "–ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ"
- –ö–Ω–æ–ø–∫–∞ "–í—ã—Ö–æ–¥"
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É

### 2. Systemd –¥–µ–º–æ–Ω

–†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ –±–µ–∑ GUI - –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫.

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/yourusername/lswitch.git
cd lswitch

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É (–ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ root)
sudo ./install.sh
```

–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (python3-evdev, python3-pyqt5)
- –°–∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –≤ —Å–∏—Å—Ç–µ–º—É
- –ù–∞—Å—Ç—Ä–æ–∏—Ç GUI —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º –∏ systemd –¥–µ–º–æ–Ω
- **–ù–∞—Å—Ç—Ä–æ–∏—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –≤–≤–æ–¥–∞ —á–µ—Ä–µ–∑ udev**
- **–î–æ–±–∞–≤–∏—Ç –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É `input`**
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç –≤—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ **–ø–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å** (–≤—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞) –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞!

–ë–µ–∑ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å sudo. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ root.

### –ü–æ—á–µ–º—É –Ω—É–∂–Ω—ã –æ—Å–æ–±—ã–µ –ø—Ä–∞–≤–∞?

LSwitch –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞ —á–µ—Ä–µ–∑ `/dev/input/`.  
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É root.

**–†–µ—à–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤–∞—Å –≤ –≥—Ä—É–ø–ø—É `input` –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç udev –ø—Ä–∞–≤–∏–ª–∞.  
–≠—Ç–æ **–±–µ–∑–æ–ø–∞—Å–Ω—ã–π** –∏ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π** —Å–ø–æ—Å–æ–±, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –º–Ω–æ–≥–∏–º–∏ Linux-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.

üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [PERMISSIONS.md](PERMISSIONS.md)

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### GUI —Ä–µ–∂–∏–º

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
lswitch-tray
```

–ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –≤ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí LSwitch**

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç—Ä–µ–π:**
- –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ ‚Üí –ú–µ–Ω—é
- **–ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏
- **–û –ø—Ä–æ–≥—Ä–∞–º–º–µ** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏
- **–í—ã—Ö–æ–¥** - –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### Systemd –¥–µ–º–æ–Ω

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã systemd:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl start lswitch

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo systemctl stop lswitch

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart lswitch

# –°—Ç–∞—Ç—É—Å
sudo systemctl status lswitch

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable lswitch

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl disable lswitch

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u lswitch -f
```

### –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Makefile

```bash
make install    # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
make start      # –ó–∞–ø—É—Å—Ç–∏—Ç—å
make stop       # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
make restart    # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
make status     # –°—Ç–∞—Ç—É—Å
make enable     # –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
make logs       # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make uninstall  # –£–¥–∞–ª–∏—Ç—å –∏–∑ —Å–∏—Å—Ç–µ–º—ã
```

## –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
sudo apt install python3-evdev python3-pyqt5 xclip xdotool
```

### –ó–∞–ø—É—Å–∫ GUI –≤–µ—Ä—Å–∏–∏

```bash
python3 lswitch_tray.py
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏

‚ö†Ô∏è **–¢—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ root** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ `/dev/input/`:

```bash
sudo python3 lswitch.py
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É
2. –ü–µ—á–∞—Ç–∞–π—Ç–µ —Ç–µ–∫—Å—Ç –≤ –ª—é–±–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. –ù–∞–±—Ä–∞–ª–∏ —Å–ª–æ–≤–æ –Ω–µ –≤ —Ç–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ? –ù–∞–∂–º–∏—Ç–µ **Shift –¥–≤–∞–∂–¥—ã** –±—ã—Å—Ç—Ä–æ
4. –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏ —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è! ‚ú®

### –ü—Ä–∏–º–µ—Ä—ã

- `ghbdtn` ‚Üí `–ø—Ä–∏–≤–µ—Ç` (–ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º Shift + –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏)
- `—Ä—É–¥–¥—â —Ü—â–∫–¥–≤` ‚Üí `hello world` (–ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º Shift + –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/etc/lswitch/config.json`:

```json
{
  "double_click_timeout": 0.3,
  "debug": false,
  "switch_layout_after_convert": true,
  "layout_switch_key": "Alt_L+Shift_L"
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `double_click_timeout` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É –Ω–∞–∂–∞—Ç–∏—è–º–∏ Shift (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
- `debug` - –≤–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `switch_layout_after_convert` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–∞—Å–∫–ª–∞–¥–∫—É –ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- `layout_switch_key` - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∫–ª–∞–≤–∏—à –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl restart lswitch
```

## –£–¥–∞–ª–µ–Ω–∏–µ

```bash
sudo ./uninstall.sh
# –ò–ª–∏
make uninstall
```
{ –æ—Ç root: `sudo python3 lswitch.py`
2. –ü–µ—á–∞—Ç–∞–π—Ç–µ —Ç–µ–∫—Å—Ç –≤ –ª—é–±–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. –ù–∞–±—Ä–∞–ª–∏ —Å–ª–æ–≤–æ –Ω–µ –≤ —Ç–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ? –ù–∞–∂–º–∏—Ç–µ **Shift –¥–≤–∞–∂–¥—ã** –±—ã—Å—Ç—Ä–æ
4. –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏ —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è! ‚ú®

### –ü—Ä–∏–º–µ—Ä—ã

- `ghbdtn` ‚Üí –¥–≤–æ–π–Ω–æ–π Shift ‚Üí `–ø—Ä–∏–≤–µ—Ç` (–∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ RU)
- `—Ä—É–¥–¥—â` ‚Üí –¥–≤–æ–π–Ω–æ–π Shift ‚Üí `hello` (–∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ EN)
- `ntcn cdjql` ‚Üí –ø—Ä–æ–±–µ–ª —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å–ª–æ–≤–∞ ‚Üí –¥–≤–æ–π–Ω–æ–π Shift –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ `cdjql` ‚Üí `—Å–≤–æ–π`

- **double_click_timeout** (0.3) - –≤—Ä–µ–º—è –º–µ–∂–¥—É –Ω–∞–∂–∞—Ç–∏—è–º–∏ Shift –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- **debug** (true/false) - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- **switch_layout_after_convert** (true/false) - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–∞—Å–∫–ª–∞–¥–∫—É –ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- **layout_switch_key** - —à–æ—Ä—Ç–∫–∞—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏:
  - `Alt_L+Shift_L` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, Alt+Shift)
  - `Ctrl_L+Shift_L` (Ctrl+Shift)
  - `Super_L+space` (Win+Space)
  - –ò–ª–∏ –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —à–æ—Ä—Ç–∫–∞—Ç

## –í—ã—Ö–æ–¥

–ù–∞–∂–º–∏—Ç–µ **ESC** –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
 —á–µ—Ä–µ–∑ systemd

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/lswitch.service`:

```ini
[Unit]
Description=LSwitch Keyboard Layout Switcher
After=multi-user.target

[Service]
Type=simple
ExecStart=/usr/bin/python3 /–ø–æ–ª–Ω—ã–π/–ø—É—Ç—å/–∫/lswitch.py
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å:

```bash
sudo systemctl enable --now lswitch
sudo systemctl status lswitch
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Linux (–ª—é–±–æ–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ —Å evdev)
- Python 3.6+
- python3-evdev
- –ü—Ä–∞–≤–∞ root

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ `/dev/input/` —á–µ—Ä–µ–∑ evdev
- –°–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π
- –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø–æ –∏–º–µ–Ω–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–Ω–µ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è)
- –ë—É—Ñ–µ—Ä —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ–±–µ–ª–µ/Enter (–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ)ol
- xclip

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
