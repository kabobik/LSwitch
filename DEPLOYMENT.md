# üéâ –ü—Ä–æ–µ–∫—Ç LSwitch –≥–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### üì¶ –§–∞–π–ª—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **install.sh** - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (python3-evdev)
   - –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç systemd –¥–µ–º–æ–Ω
   - –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

2. **uninstall.sh** - –°–∫—Ä–∏–ø—Ç —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ —Å–∏—Å—Ç–µ–º—ã
   - –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å
   - –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
   - –û—á–∏—â–∞–µ—Ç systemd

3. **lswitch.service** - Systemd unit —Ñ–∞–π–ª
   - –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è systemd
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∂—É—Ä–Ω–∞–ª–æ–º –ª–æ–≥–æ–≤

4. **Makefile** - –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - `make install` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞
   - `make start/stop/restart` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º
   - `make enable/disable` - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
   - `make logs` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
   - `make uninstall` - —É–¥–∞–ª–µ–Ω–∏–µ

5. **setup.py** - Python setup –¥–ª—è pip —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **README.md** - –û–±–Ω–æ–≤–ª—ë–Ω —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
2. **INSTALL.md** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
3. **QUICKSTART.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤—ã—Ö

### üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

- **lswitch.py** –æ–±–Ω–æ–≤–ª—ë–Ω:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`/etc/lswitch/config.json` –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `main()` –¥–ª—è —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
  - –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Ç–µ–π

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```
/usr/local/bin/lswitch              - –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
/etc/lswitch/config.json            - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
/etc/systemd/system/lswitch.service - systemd unit
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
sudo ./install.sh
```

–í—ã–±–µ—Ä–∏—Ç–µ "y" –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Makefile

```bash
make install   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞
make enable    # –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í—Ä—É—á–Ω—É—é

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt install python3-evdev

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
sudo cp lswitch.py /usr/local/bin/lswitch
sudo chmod +x /usr/local/bin/lswitch
sudo mkdir -p /etc/lswitch
sudo cp config.json /etc/lswitch/

# Systemd
sudo cp lswitch.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable lswitch
sudo systemctl start lswitch
```

## üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
sudo systemctl start lswitch       # –ó–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl stop lswitch        # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo systemctl restart lswitch     # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl status lswitch      # –°—Ç–∞—Ç—É—Å

# –ò–ª–∏ —á–µ—Ä–µ–∑ Makefile
make start
make stop
make restart
make status
make logs      # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
2. –í–≤–µ–¥–∏—Ç–µ: `ghbdtn`
3. –ë—ã—Å—Ç—Ä–æ –Ω–∞–∂–º–∏—Ç–µ Shift –¥–≤–∞–∂–¥—ã
4. –î–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è: `–ø—Ä–∏–≤–µ—Ç` (–∏ —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è)

## üìä –õ–æ–≥–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u lswitch -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
sudo journalctl -u lswitch -n 50
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/etc/lswitch/config.json`:

```json
{
  "double_click_timeout": 0.3,
  "debug": false,
  "switch_layout_after_convert": true,
  "layout_switch_key": "Alt_L+Shift_L"
}
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
sudo systemctl restart lswitch
```

## üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ

```bash
sudo ./uninstall.sh
# –ò–ª–∏
make uninstall
```

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ LSwitch**: `sudo ./install.sh`
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ**: –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–≤–æ–π–Ω–æ–π Shift –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ**: –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/etc/lswitch/config.json` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å**: —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏ —Å—Ç–∞–ª–æ —É–¥–æ–±–Ω–µ–µ!

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
# –ó–∞–ø—É—Å–∫ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
sudo python3 lswitch.py

# –¢–µ—Å—Ç—ã
python3 -m pytest test_lswitch.py

# –û—á–∏—Å—Ç–∫–∞
make clean
```

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [README.md](README.md) - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
- [INSTALL.md](INSTALL.md) - –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [QUICKSTART.md](QUICKSTART.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

---

**–ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É –≤ –≤–∏–¥–µ –¥–µ–º–æ–Ω–∞ —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º.** üéä
